Here is a comprehensive and well-structured README for the `clar1k/sentia-turbo` repository.

---

\<div align="center"\>
\<br /\>
\<img src="[suspicious link removed]" alt="Sentia Logo" width="150"/\>
\<br /\>
\<h1 style="border-bottom: none;"\>Sentia Turbo\</h1\>
\<p\>\<b\>An AI-powered Web3 assistant that bridges the gap between conversation and on-chain action.\</b\>\</p\>
\<br /\>

\<p\>
\<a href="\#"\>\<img src="[suspicious link removed]" alt="License"\>\</a\>
\<a href="\#"\>\<img src="[suspicious link removed]" alt="PRs Welcome"\>\</a\>
\<a href="\#"\>\<img src="[suspicious link removed]" alt="Follow on Twitter"\>\</a\>
\</p\>

\</div\>

**Sentia Turbo** is a full-stack monorepo showcasing a sophisticated, tool-enabled AI agent for the Web3 space. It's more than just a chatbot; it's an interactive assistant that can understand user intent, fetch real-time financial data, and generate transactions that users can sign and execute directly from the chat interface.

The backend also features autonomous AI agents that run on a schedule to fetch, analyze, and summarize the latest news, financial, and DeFi data, providing users with timely, AI-generated insights on dedicated dashboards.

---

### üåü Core Features

| Feature                       | Description                                                                                                                                                                                            |
| ----------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| ü§ñ **Tool-Enabled AI Agent**  | A conversational chat interface where the AI can use custom tools to perform actions, such as fetching a user's wallet balance or generating transaction data.                                         |
| üí≥ **Inline Transaction UI**  | A novel feature where the AI's intent to perform a transaction is rendered as an interactive UI component (`<TransactionCard />`) directly in the chat, powered by a custom `<tx>` tag protocol.       |
| üîí **Web3 Authentication**    | Secure wallet-based authentication using [Dynamic](https://www.dynamic.xyz/) and SIWE (Sign-In with Ethereum), integrated with a tRPC backend.                                                         |
| üìä **AI-Powered Dashboards**  | Dedicated dashboards for Finance, DeFi, and News, populated with data and insights generated by autonomous, scheduled AI agents.                                                                       |
| üïí **Scheduled AI Summaries** | Backend cron jobs periodically fetch data from sources like DeFiLlama, CoinGecko, and CoinDesk, use an LLM to create insightful summaries, and store them in the database for the frontend to display. |
| üöÄ **Modern Monorepo Stack**  | Built with Turborepo, Bun, React, Vite, Hono, and tRPC for a fully type-safe, high-performance developer experience.                                                                                   |

### üé¨ Demo

Imagine asking your AI assistant to make a payment. Sentia understands your request, generates the transaction, and presents it to you for approval, right in the chat.

_(Placeholder for a GIF demonstrating the inline transaction card flow: User types "Send 0.1 ETH to vitalik.eth" -\> AI responds with text and a TransactionCard -\> User clicks "Sign Transaction" and confirms in their wallet.)_

### ‚öôÔ∏è How It Works

Sentia's power comes from two primary flows: the interactive user-to-AI pipeline and the autonomous backend agent pipeline.

#### 1\. Interactive Transaction Flow

This flow demonstrates how Sentia turns natural language into on-chain actions.

```mermaid
sequenceDiagram
    participant User
    participant Frontend (React)
    participant Backend (Hono/tRPC)
    participant AI (OpenRouter)

    User->>Frontend: "Send 0.1 ETH to vitalik.eth"
    Frontend->>Backend: Calls `prompt` tRPC mutation with message
    Backend->>AI: Forwards prompt with system instructions and tools
    Note over AI: AI detects intent to "send" and uses the `transfer` tool.
    AI-->>Backend: Returns text response with a special `<tx>{...}</tx>` XML tag containing transaction JSON.
    Backend-->>Frontend: Returns the AI-generated string.
    Note over Frontend: The `InlineRouter` component parses the string.
    Frontend->>Frontend: Renders the text and a `<TransactionCard />` from the `<tx>` tag data.
    User->>Frontend: Clicks "Sign Transaction" on the card.
    Note over Frontend: The card uses `wagmi` hooks to initiate the transaction.
    Frontend->>User: Wallet (e.g., MetaMask) prompts for signature.
    User->>Frontend: Signs transaction.
    Frontend->>Blockchain: Submits the signed transaction.
```

#### 2\. Autonomous Summary Flow

This flow shows how the dashboards are powered by scheduled, AI-generated content.

```mermaid
sequenceDiagram
    participant Cron (Node-Cron)
    participant Backend (Hono)
    participant ExternalAPIs
    participant AI (OpenRouter)
    participant Database (PostgreSQL)

    Cron->>Backend: Triggers scheduled job (e.g., `coindeskNews`).
    Backend->>ExternalAPIs: Fetches latest news articles from CoinDesk.
    ExternalAPIs-->>Backend: Returns news data.
    Backend->>AI: Sends news data with a prompt to "summarize these articles".
    AI-->>Backend: Returns a structured JSON of summaries.
    Backend->>Database: Stores the summaries in the `news_summary` table.
```

### üõ†Ô∏è Tech Stack

| Area         | Technology                                                                                                                                                                                                                                                                                                                                   |
| ------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Monorepo** | \<img src="[suspicious link removed]" alt="Turborepo" height="20"\> ¬† \<img src="[suspicious link removed]" alt="Bun" height="20"\>                                                                                                                                                                                                          |
| **Frontend** | \<img src="[suspicious link removed]" alt="React" \> \<img src="[suspicious link removed]" alt="Vite"\> \<img src="[suspicious link removed]" alt="TanStack Router"\> \<img src="[suspicious link removed]" alt="Tailwind CSS"\> \<img src="[suspicious link removed]" alt="shadcn/ui"\> \<img src="[suspicious link removed]" alt="Wagmi"\> |
| **Backend**  | \<img src="[suspicious link removed]" alt="Hono"\> \<img src="[suspicious link removed]" alt="tRPC"\> \<img src="[suspicious link removed]" alt="Vercel AI SDK"\>                                                                                                                                                                            |
| **Database** | \<img src="[suspicious link removed]" alt="PostgreSQL"\> \<img src="[suspicious link removed]" alt="Drizzle ORM"\>                                                                                                                                                                                                                           |
| **Auth**     | \<img src="[suspicious link removed]" alt="Dynamic"\>                                                                                                                                                                                                                                                                                        |

### üìÇ Project Structure

The repository is a Turborepo monorepo with two main applications.

```
clar1k-sentia-turbo/
‚îú‚îÄ‚îÄ apps/
‚îÇ   ‚îú‚îÄ‚îÄ server/      # Backend: Hono, tRPC, Drizzle ORM, AI logic, and scheduled jobs
‚îÇ   ‚îî‚îÄ‚îÄ web/         # Frontend: React (Vite), TanStack Router, and components
‚îî‚îÄ‚îÄ package.json     # Root package configuration
```

### üöÄ Getting Started

Follow these steps to get your local environment up and running.

#### 1\. Prerequisites

- [Bun](https://bun.sh/) (v1.2.12 or higher)
- [PostgreSQL](https://www.postgresql.org/)
- [Node.js](https://nodejs.org/) (for certain dependencies)

#### 2\. Clone & Install

```bash
# Clone the repository
git clone https://github.com/clar1k/sentia-turbo.git

# Navigate to the project directory
cd sentia-turbo

# Install all dependencies using Bun
bun install
```

#### 3\. Environment Setup

This project requires environment variables for both the frontend and backend.

1.  **Backend (`apps/server`)**

    - Copy the example environment file: `cp apps/server/.env.example apps/server/.env`
    - Fill in the required values:
      - `DATABASE_URL`: Your PostgreSQL connection string.
      - `OPENROUTER_API_KEY`: Your API key from [OpenRouter.ai](https://openrouter.ai/) for LLM access.
      - `DYNAMIC_API_KEY`: Your Environment ID from [Dynamic](https://app.dynamic.xyz/).
      - `JWT_SECRET`: A secure, random string for signing internal JWTs (not used for Web3 auth).

2.  **Frontend (`apps/web`)**

    - Copy the example environment file: `cp apps/web/.env.example apps/web/.env`
    - Fill in the required values:
      - `VITE_SERVER_URL`: The full URL of your backend server (e.g., `http://localhost:3000`).
      - `VITE_DYNAMIC_API_KEY`: The same Environment ID from Dynamic used in the backend.

#### 4\. Database Setup

With your `DATABASE_URL` configured, push the Drizzle schema to your PostgreSQL database.

```bash
# This command runs the db:push script defined in the server's package.json
bun db:push
```

You can also use the Drizzle Studio to explore your database:

```bash
bun db:studio
```

#### 5\. Run the Development Servers

Start both the frontend and backend applications in development mode.

```bash
bun dev
```

- The **Frontend** will be available at [http://localhost:3001](https://www.google.com/search?q=http://localhost:3001).
- The **Backend** API will be running at [http://localhost:3000](https://www.google.com/search?q=http://localhost:3000).

### üí° Key Concepts

- **The `<tx>` Protocol:** The core of the agent's interactive power lies in a simple convention. When the AI's response includes a `<tx>` tag, the frontend knows to parse its content as JSON and render the `TransactionCard` component. This is handled in `apps/web/src/components/inline-components/InlineRouter.tsx`.

- **AI Tooling:** The AI's capabilities are defined in `apps/server/src/lib/mcp/tools.ts`. The Vercel AI SDK allows the LLM to decide which tool to use based on the user's prompt, making the interaction dynamic and intelligent.

- **System Prompt:** The AI's personality, rules, and constraints are defined in the system prompt located at `apps/server/src/lib/prompts/system.ts`. This is critical for ensuring the AI behaves as expected and follows safety guidelines.

---

### üôè Acknowledgements

This project was initialized using the fantastic [Better-T-Stack](https://github.com/AmanVarshney01/create-better-t-stack).
